/* 
 * This file is auto-generated.
 * Do not edit this file manually.
 * Your changes will be overwritten during the next generation.
 */
package org.openapis.openapi;

import static org.openapis.openapi.operations.Operations.AsyncRequestOperation;

import jakarta.annotation.Nonnull;
import jakarta.annotation.Nullable;
import java.lang.Long;
import java.util.concurrent.CompletableFuture;
import org.openapis.openapi.models.components.CreateLiveStreamRequest;
import org.openapis.openapi.models.operations.GetAllStreamsRequest;
import org.openapis.openapi.models.operations.OrderBy;
import org.openapis.openapi.models.operations.async.CreateNewStreamRequestBuilder;
import org.openapis.openapi.models.operations.async.CreateNewStreamResponse;
import org.openapis.openapi.models.operations.async.GetAllStreamsRequestBuilder;
import org.openapis.openapi.models.operations.async.GetAllStreamsResponse;
import org.openapis.openapi.operations.CreateNewStream;
import org.openapis.openapi.operations.GetAllStreams;
import org.openapis.openapi.utils.Headers;
import org.openapis.openapi.utils.Options;


public class AsyncStreams {
    private static final Headers _headers = Headers.EMPTY;
    private final SDKConfiguration sdkConfiguration;
    private final Streams syncSDK;

    AsyncStreams(Streams syncSDK, SDKConfiguration sdkConfiguration) {
        this.sdkConfiguration = sdkConfiguration;
        this.syncSDK = syncSDK;
    }

    /**
     * Switches to the sync SDK.
     * 
     * @return The sync SDK
     */
    public Streams sync() {
        return syncSDK;
    }


    /**
     * Create a new stream
     * 
     * <p>Creates a new <a href="https://docs.fastpix.io/docs/get-started-with-live-streaming">RTMPS</a> or <a
     * href="https://docs.fastpix.io/docs/using-srt-to-live-stream">SRT</a> live stream in FastPix. When
     * you create a stream, FastPix generates a unique `streamKey` and `srtSecret` that you can use with
     * broadcasting software such as OBS to connect to FastPix RTMPS or SRT servers. Use SRT for live
     * streaming in unstable network conditions, as it provides error correction and encryption for a more
     * reliable and secure broadcast.
     * 
     * <p>Leverage SRT for live streaming in environments with unstable networks, taking advantage of its
     * error correction and encryption features for a resilient and secure broadcast.
     * 
     * <p>&lt;h4&gt;How it works&lt;/h4&gt;
     * 
     * <p>1. Send a `POST` request to this endpoint. You can configure the stream settings, including
     * `metadata` (such as stream name and description), `reconnectWindow` (in case of disconnection), and
     * privacy options (`public` or `private`).
     * 
     * <p>2. FastPix returns the stream details for both RTMPS and SRT configurations. These keys and IDs from
     * the stream details are essential for connecting the broadcasting software to FastPix’s servers and
     * transmitting the live stream to viewers.
     * 
     * <p>3. After the live stream is created, FastPix sends a `POST` request to your specified webhook
     * endpoint with the event <a
     * href="https://docs.fastpix.io/docs/live-events#videolive_streamcreated">video.live_stream.created</a>.
     * 
     * <p>**Example:**
     * 
     * <p>Imagine a gaming platform that allows users to live stream gameplay directly from their dashboard.
     * The API creates a new stream, provides the necessary stream key, and sets it to "private" so that
     * only specific viewers can access it.
     * 
     * <p>Related guide: <a href="https://docs.fastpix.io/docs/how-to-livestream">How to live stream</a>
     * 
     * @return The async call builder
     */
    public CreateNewStreamRequestBuilder create() {
        return new CreateNewStreamRequestBuilder(sdkConfiguration);
    }

    /**
     * Create a new stream
     * 
     * <p>Creates a new <a href="https://docs.fastpix.io/docs/get-started-with-live-streaming">RTMPS</a> or <a
     * href="https://docs.fastpix.io/docs/using-srt-to-live-stream">SRT</a> live stream in FastPix. When
     * you create a stream, FastPix generates a unique `streamKey` and `srtSecret` that you can use with
     * broadcasting software such as OBS to connect to FastPix RTMPS or SRT servers. Use SRT for live
     * streaming in unstable network conditions, as it provides error correction and encryption for a more
     * reliable and secure broadcast.
     * 
     * <p>Leverage SRT for live streaming in environments with unstable networks, taking advantage of its
     * error correction and encryption features for a resilient and secure broadcast.
     * 
     * <p>&lt;h4&gt;How it works&lt;/h4&gt;
     * 
     * <p>1. Send a `POST` request to this endpoint. You can configure the stream settings, including
     * `metadata` (such as stream name and description), `reconnectWindow` (in case of disconnection), and
     * privacy options (`public` or `private`).
     * 
     * <p>2. FastPix returns the stream details for both RTMPS and SRT configurations. These keys and IDs from
     * the stream details are essential for connecting the broadcasting software to FastPix’s servers and
     * transmitting the live stream to viewers.
     * 
     * <p>3. After the live stream is created, FastPix sends a `POST` request to your specified webhook
     * endpoint with the event <a
     * href="https://docs.fastpix.io/docs/live-events#videolive_streamcreated">video.live_stream.created</a>.
     * 
     * <p>**Example:**
     * 
     * <p>Imagine a gaming platform that allows users to live stream gameplay directly from their dashboard.
     * The API creates a new stream, provides the necessary stream key, and sets it to "private" so that
     * only specific viewers can access it.
     * 
     * <p>Related guide: <a href="https://docs.fastpix.io/docs/how-to-livestream">How to live stream</a>
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return {@code CompletableFuture<CreateNewStreamResponse>} - The async response
     */
    public CompletableFuture<CreateNewStreamResponse> create(@Nonnull CreateLiveStreamRequest request) {
        return create(request, null);
    }

    /**
     * Create a new stream
     * 
     * <p>Creates a new <a href="https://docs.fastpix.io/docs/get-started-with-live-streaming">RTMPS</a> or <a
     * href="https://docs.fastpix.io/docs/using-srt-to-live-stream">SRT</a> live stream in FastPix. When
     * you create a stream, FastPix generates a unique `streamKey` and `srtSecret` that you can use with
     * broadcasting software such as OBS to connect to FastPix RTMPS or SRT servers. Use SRT for live
     * streaming in unstable network conditions, as it provides error correction and encryption for a more
     * reliable and secure broadcast.
     * 
     * <p>Leverage SRT for live streaming in environments with unstable networks, taking advantage of its
     * error correction and encryption features for a resilient and secure broadcast.
     * 
     * <p>&lt;h4&gt;How it works&lt;/h4&gt;
     * 
     * <p>1. Send a `POST` request to this endpoint. You can configure the stream settings, including
     * `metadata` (such as stream name and description), `reconnectWindow` (in case of disconnection), and
     * privacy options (`public` or `private`).
     * 
     * <p>2. FastPix returns the stream details for both RTMPS and SRT configurations. These keys and IDs from
     * the stream details are essential for connecting the broadcasting software to FastPix’s servers and
     * transmitting the live stream to viewers.
     * 
     * <p>3. After the live stream is created, FastPix sends a `POST` request to your specified webhook
     * endpoint with the event <a
     * href="https://docs.fastpix.io/docs/live-events#videolive_streamcreated">video.live_stream.created</a>.
     * 
     * <p>**Example:**
     * 
     * <p>Imagine a gaming platform that allows users to live stream gameplay directly from their dashboard.
     * The API creates a new stream, provides the necessary stream key, and sets it to "private" so that
     * only specific viewers can access it.
     * 
     * <p>Related guide: <a href="https://docs.fastpix.io/docs/how-to-livestream">How to live stream</a>
     * 
     * @param request The request object containing all the parameters for the API call.
     * @param options additional options
     * @return {@code CompletableFuture<CreateNewStreamResponse>} - The async response
     */
    public CompletableFuture<CreateNewStreamResponse> create(@Nonnull CreateLiveStreamRequest request, @Nullable Options options) {
        AsyncRequestOperation<CreateLiveStreamRequest, CreateNewStreamResponse> operation
              = new CreateNewStream.Async(
                                    sdkConfiguration, options, sdkConfiguration.retryScheduler(),
                                    _headers);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }


    /**
     * Get all live streams
     * 
     * <p>Retrieves a list of all live streams associated with the current workspace. It provides an overview
     * of both current and past live streams, including details like `streamId`, `metadata`, `status`,
     * `createdAt` and more.
     * 
     * <p>#### How it works
     * 
     * <p>Use the access token and secret key related to the workspace in the request header. When called, the
     * API provides a paginated response containing all the live streams in that specific workspace. This
     * is helpful for retrieving a large volume of streams and managing content in bulk.
     * 
     * @return The async call builder
     */
    public GetAllStreamsRequestBuilder list() {
        return new GetAllStreamsRequestBuilder(sdkConfiguration);
    }

    /**
     * Get all live streams
     * 
     * <p>Retrieves a list of all live streams associated with the current workspace. It provides an overview
     * of both current and past live streams, including details like `streamId`, `metadata`, `status`,
     * `createdAt` and more.
     * 
     * <p>#### How it works
     * 
     * <p>Use the access token and secret key related to the workspace in the request header. When called, the
     * API provides a paginated response containing all the live streams in that specific workspace. This
     * is helpful for retrieving a large volume of streams and managing content in bulk.
     * 
     * @return {@code CompletableFuture<GetAllStreamsResponse>} - The async response
     */
    public CompletableFuture<GetAllStreamsResponse> listDirect() {
        return list(
                null, null, null,
                null);
    }

    /**
     * Get all live streams
     * 
     * <p>Retrieves a list of all live streams associated with the current workspace. It provides an overview
     * of both current and past live streams, including details like `streamId`, `metadata`, `status`,
     * `createdAt` and more.
     * 
     * <p>#### How it works
     * 
     * <p>Use the access token and secret key related to the workspace in the request header. When called, the
     * API provides a paginated response containing all the live streams in that specific workspace. This
     * is helpful for retrieving a large volume of streams and managing content in bulk.
     * 
     * @param limit Limit specifies the maximum number of items to display per page.
     * @param offset Offset determines the starting point for data retrieval within a paginated list.
     * @param orderBy The list of value can be order in two ways DESC (Descending) or ASC (Ascending). In case not specified, by default it will be DESC.
     * @param options additional options
     * @return {@code CompletableFuture<GetAllStreamsResponse>} - The async response
     */
    public CompletableFuture<GetAllStreamsResponse> list(
            @Nullable Long limit, @Nullable Long offset,
            @Nullable OrderBy orderBy, @Nullable Options options) {
        GetAllStreamsRequest request = new GetAllStreamsRequest(limit, offset, orderBy);
        AsyncRequestOperation<GetAllStreamsRequest, GetAllStreamsResponse> operation
              = new GetAllStreams.Async(
                                    sdkConfiguration, options, sdkConfiguration.retryScheduler(),
                                    _headers);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }

}
